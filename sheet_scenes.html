<!doctype html>
<html lang="ru" data-theme="dark" data-root=".">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="–ê–Ω–∫–µ—Ç–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ Ballas: —à–∞–≥–∏, –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ, –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ Google Sheets –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è RP‚Äë—Å—Ü–µ–Ω." />
  <title>–ê–Ω–∫–µ—Ç–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ ‚Äî –°—Ü–µ–Ω—ã –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ ‚Ä¢ Ballas</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body class="sheetPage">
  <a class="skip" href="#main">–ü–µ—Ä–µ–π—Ç–∏ –∫ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É</a>

  <div class="bg" aria-hidden="true">
    <div class="bg__blob bg__blob--1"></div>
    <div class="bg__blob bg__blob--2"></div>
    <div class="bg__blob bg__blob--3"></div>
    <div class="bg__mesh"></div>
    <div class="bg__pattern"></div>
    <div class="bg__vignette"></div>
  </div>

  <header class="topbar" id="topbar">
    <div class="progress" aria-hidden="true"><div class="progress__bar" id="scrollProgress"></div></div>

    <div class="wrap topbar__inner">
      <a class="brand" href="./index.html" aria-label="Ballas ‚Äî –Ω–∞ –≥–ª–∞–≤–Ω—É—é">
        <span class="brand__mark" aria-hidden="true"></span>
        <span class="brand__text">
          <span class="brand__title">Ballas</span>
          <span class="brand__sub">RP dossier ‚Ä¢ –∞–Ω–∫–µ—Ç–∞</span>
        </span>
      </a>

      <nav class="nav" aria-label="–ù–∞–≤–∏–≥–∞—Ü–∏—è">
        <a class="nav__link" href="./index.html">RP‚Äë–¥–æ—Å—å–µ</a>
        <a class="nav__link" href="./cases.html">–ö–µ–π—Å—ã</a>
        <a class="nav__link" href="./characters.html">–ü–µ—Ä—Å–æ–Ω–∞–∂–∏</a>
      </nav>

      <div class="actions">
        <button class="btn btn--ghost" id="themeBtn" type="button">üåô Dark</button>
        <button class="btn btn--ghost" id="searchBtn" type="button">–ü–æ–∏—Å–∫</button>

        <button class="iconBtn" id="menuBtn" type="button" aria-label="–ú–µ–Ω—é" aria-expanded="false" aria-controls="mobileMenu">
          <span class="iconBtn__bar"></span>
          <span class="iconBtn__bar"></span>
          <span class="iconBtn__bar"></span>
        </button>
      </div>
    </div>

    <div class="mobileMenu" id="mobileMenu" hidden>
      <div class="wrap mobileMenu__inner">
        <a class="mobileMenu__link" href="./index.html">–ì–ª–∞–≤–Ω–∞—è</a>
        <a class="mobileMenu__link" href="./index.html">RP‚Äë–¥–æ—Å—å–µ</a>
        <a class="mobileMenu__link" href="./cases.html">–ö–µ–π—Å—ã</a>
        <a class="mobileMenu__link" href="./characters.html">–ü–µ—Ä—Å–æ–Ω–∞–∂–∏</a>
        <div class="mobileMenu__hint">–ú–µ–Ω—é –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ –∫–ª–∏–∫—É –Ω–∞ –ø—É–Ω–∫—Ç –∏–ª–∏ –ø–æ Esc.</div>
      </div>
    </div>
  </header>

  <main id="main">
    <section class="section wrap">
      <div class="reveal" style="text-align:center; max-width: 940px; margin:0 auto">
        <div class="eyebrow">–ê–Ω–∫–µ—Ç–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞</div>
        <h1 class="h2">–®–∞–≥ 6 ‚Äî –°—Ü–µ–Ω—ã –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞</h1>
        <p class="p">–í—Å—ë, —á—Ç–æ —Ç—ã –≤–≤–æ–¥–∏—à—å, <strong>–∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è</strong> –≤ –±—Ä–∞—É–∑–µ—Ä–µ. –ù–∏—á–µ–≥–æ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è, –ø–æ–∫–∞ —Ç—ã –Ω–µ –Ω–∞–∂–º—ë—à—å ¬´–û—Ç–ø—Ä–∞–≤–∏—Ç—å¬ª –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º —à–∞–≥–µ.</p>
      </div>

      <div class="sheetShell">
        <aside class="sheetNav reveal" aria-label="–®–∞–≥–∏ –∞–Ω–∫–µ—Ç—ã">
          <div class="sheetNav__head">
            <div class="sheetNav__headTitle">–†–∞–∑–¥–µ–ª—ã</div>
            <div class="sheetNav__headSub">–∫–ª–∏–∫ ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É</div>
          </div>

          <nav class="sheetNav__list">
            <a class="sheetNav__link" data-step="profile" href="sheet_profile.html">
              <span class="sheetNav__badge">1</span>
              <span class="sheetNav__icon" aria-hidden="true">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21a8 8 0 0 0-16 0"/><circle cx="12" cy="7" r="4"/></svg>
              </span>
              <span class="sheetNav__meta">
                <span class="sheetNav__title">–ü—Ä–æ—Ñ–∏–ª—å</span>
                <span class="sheetNav__desc">–∏–º—è, —Ä–æ–ª—å, —Å–µ—Ç, —Ç–µ–≥–∏</span>
              </span>
            </a>

            <a class="sheetNav__link" data-step="backstory" href="sheet_backstory.html">
              <span class="sheetNav__badge">2</span>
              <span class="sheetNav__icon" aria-hidden="true">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 19.5A2.5 2.5 0 0 0 6.5 22H20"/><path d="M6.5 2H20v20"/><path d="M6.5 2A2.5 2.5 0 0 0 4 4.5v15"/><path d="M8 6h8"/><path d="M8 10h8"/><path d="M8 14h6"/></svg>
              </span>
              <span class="sheetNav__meta">
                <span class="sheetNav__title">–ü—Ä–µ–¥—ã—Å—Ç–æ—Ä–∏—è</span>
                <span class="sheetNav__desc">–æ—Ç–∫—É–¥–∞ —Ç—ã –∏ –∑–∞—á–µ–º –∑–¥–µ—Å—å</span>
              </span>
            </a>

            <a class="sheetNav__link" data-step="traits" href="sheet_traits.html">
              <span class="sheetNav__badge">3</span>
              <span class="sheetNav__icon" aria-hidden="true">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2l3 7 7 3-7 3-3 7-3-7-7-3 7-3 3-7z"/></svg>
              </span>
              <span class="sheetNav__meta">
                <span class="sheetNav__title">–•–∞—Ä–∞–∫—Ç–µ—Ä</span>
                <span class="sheetNav__desc">—Å–∏–ª—å–Ω—ã–µ/—Å–ª–∞–±—ã–µ + –≥—Ä–∞–Ω–∏—Ü—ã</span>
              </span>
            </a>

            <a class="sheetNav__link" data-step="connections" href="sheet_connections.html">
              <span class="sheetNav__badge">4</span>
              <span class="sheetNav__icon" aria-hidden="true">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
              </span>
              <span class="sheetNav__meta">
                <span class="sheetNav__title">–°–≤—è–∑–∏</span>
                <span class="sheetNav__desc">3 –≤–∞–∂–Ω—ã—Ö –∫–æ–Ω—Ç–∞–∫—Ç–∞</span>
              </span>
            </a>

            <a class="sheetNav__link" data-step="goals" href="sheet_goals.html">
              <span class="sheetNav__badge">5</span>
              <span class="sheetNav__icon" aria-hidden="true">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/></svg>
              </span>
              <span class="sheetNav__meta">
                <span class="sheetNav__title">–¶–µ–ª–∏ –∏ —Å–µ–∫—Ä–µ—Ç</span>
                <span class="sheetNav__desc">—Å—Ç–∞–≤–∫–∏ 2026 + –∫—Ä—é—á–æ–∫</span>
              </span>
            </a>

            <a class="sheetNav__link" data-step="scenes" href="sheet_scenes.html">
              <span class="sheetNav__badge">6</span>
              <span class="sheetNav__icon" aria-hidden="true">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 4V2"/><path d="M15 16v-2"/><path d="M8 9h2"/><path d="M14 9h2"/><path d="M4 22l4-4"/><path d="M20 22l-4-4"/><path d="M9 4h6"/><path d="M7 9a5 5 0 0 1 10 0c0 5-5 7-5 7s-5-2-5-7z"/></svg>
              </span>
              <span class="sheetNav__meta">
                <span class="sheetNav__title">–°—Ü–µ–Ω—ã</span>
                <span class="sheetNav__desc">–≥–µ–Ω–µ—Ä–∞—Ü–∏—è + –æ—Ç–ø—Ä–∞–≤–∫–∞</span>
              </span>
            </a>
          </nav>
          <div class="sheetNav__foot">
            <button class="btn btn--ghost" id="clearSheetBtn" type="button">–û—á–∏—Å—Ç–∏—Ç—å –∞–Ω–∫–µ—Ç—É</button>
            <div class="small">–•—Ä–∞–Ω–µ–Ω–∏–µ: LocalStorage (—Ç–æ–ª—å–∫–æ –≤ —Ç–≤–æ—ë–º –±—Ä–∞—É–∑–µ—Ä–µ).</div>
          </div>
        </aside>

        <div class="sheetMain">
          <form class="panel reveal" id="sheetForm" data-step="scenes" novalidate>
            <div class="panel__head">
              <div>
                <div class="panel__title">–°—Ü–µ–Ω—ã, –æ—Ç–ø—Ä–∞–≤–∫–∞ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è</div>
                <div class="panel__sub">—á—Ç–æ —Ç—ã —Ö–æ—á–µ—à—å –∏–≥—Ä–∞—Ç—å ‚Ä¢ 2 —Å—Ü–µ–Ω—ã –ø–æ –∞–Ω–∫–µ—Ç–µ ‚Ä¢ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ Google Sheets</div>
              </div>
              <span class="badge">submit</span>
            </div>

            <div class="sheetStatus note" id="saveStatus">–ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤–∫–ª—é—á–µ–Ω–æ.</div>

            <label class="field" style="margin-top:14px">
              <span class="field__label">–°—Ü–µ–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ö–æ—á–µ—à—å</span>
              <textarea class="input textarea" placeholder="3 —Å–∏—Ç—É–∞—Ü–∏–∏ (–ø–µ—Ä–µ–≥–æ–≤–æ—Ä—ã, —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ, –∫–æ–Ω—Ñ–ª–∏–∫—Ç –≥—Ä–∞–Ω–∏—Ü—ã, —Å–µ–º–µ–π–Ω–∞—è –ª–∏–Ω–∏—è‚Ä¶). –ú–æ–∂–Ω–æ —á–µ—Ä–µ–∑ –±—É–ª–ª–µ—Ç—ã." data-field="wishes"></textarea>
              <span class="field__hint">–≠—Ç–∞ —á–∞—Å—Ç—å –≤–ª–∏—è–µ—Ç –Ω–∞ –ø–æ–¥–±–æ—Ä —Å—Ü–µ–Ω. –ú–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ: ¬´—Ö–æ—á—É –ø–µ—Ä–µ–≥–æ–≤–æ—Ä—ã + —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ + —Å–µ–º–µ–π–Ω—É—é –ª–∏–Ω–∏—é¬ª.</span>
            </label>

            <hr class="hr" />

            <div class="sheetMini">
              <div class="panel__title">–ö—Ä–∞—Ç–∫–∏–π –∏—Ç–æ–≥ –∞–Ω–∫–µ—Ç—ã</div>
              <div class="panel__sub">–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π (—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç—Å—è –≤ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —à–∞–≥–∞—Ö)</div>
              <div class="review" id="reviewBlock"></div>
            </div>

            <hr class="hr" />

            <div id="guide" class="sheetGuide">
              <div class="panel__title">Google Sheets</div>
              <div class="panel__sub">—á—Ç–æ–±—ã –æ—Ç–≤–µ—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ø–∞–¥–∞–ª–∏ –≤ —Ç–∞–±–ª–∏—Ü—É</div>

              <div class="note" style="margin-top:12px">
                –û–±—ã—á–Ω–æ —ç—Ç–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è <strong>–æ–¥–∏–Ω —Ä–∞–∑ –∞–¥–º–∏–Ω–æ–º</strong> ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∏—á–µ–≥–æ –Ω–µ –≤–≤–æ–¥–∏—Ç.
                –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å URL, –æ—Ç–∫—Ä–æ–π —ç—Ç—É —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º <strong>?setup=1</strong>.
              </div>

              <div class="grid2" style="margin-top:12px">
                <label class="field">
                  <span class="field__label">URL Web App (Apps Script)</span>
                  <input class="input" type="url" id="endpointInput" placeholder="https://script.google.com/macros/s/....../exec" />
                  <span class="field__hint">–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ —Ä–µ–∂–∏–º–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (<strong>?setup=1</strong>). –í –æ–±—ã—á–Ω–æ–º —Ä–µ–∂–∏–º–µ –ø–æ–ª–µ —Å–∫—Ä—ã—Ç–æ.</span>
                </label>

                <div class="note">
                  <strong>–í–∞–∂–Ω–æ:</strong> –ø—Ä–∏ –¥–µ–ø–ª–æ–µ Web App –≤—ã–±–µ—Ä–∏ –¥–æ—Å—Ç—É–ø <em>Anyone</em> (–ª—é–±–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å). –ò–Ω–∞—á–µ –∑–∞–ø—Ä–æ—Å—ã —Å —Å–∞–π—Ç–∞ –Ω–µ –ø—Ä–æ–π–¥—É—Ç.
                </div>
              </div>

              <details class="note" style="margin-top:12px">
                <summary><strong>–ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –∏ –∫–æ–¥ Apps Script</strong> (–Ω–∞–∂–º–∏, —á—Ç–æ–±—ã —Ä–∞—Å–∫—Ä—ã—Ç—å)</summary>
                <div style="margin-top:12px" class="small">
                  –í Apps Script —Å–æ–∑–¥–∞–π —Ñ–∞–π–ª <strong>Code.gs</strong>, –≤—Å—Ç–∞–≤—å –∫–æ–¥ –Ω–∏–∂–µ, –∑–∞—Ç–µ–º <strong>Deploy ‚Üí New deployment ‚Üí Web app</strong>.
                </div>
                <pre class="code"><code>// 1) –í—Å—Ç–∞–≤—å ID —Å–≤–æ–µ–π —Ç–∞–±–ª–∏—Ü—ã
// 2) –î–µ–ø–ª–æ–π: Web app (Execute as: Me, Who has access: Anyone)
const SPREADSHEET_ID = 'PASTE_YOUR_SPREADSHEET_ID_HERE';
const SHEET_NAME = 'Submissions';

function doPost(e) {
  const ss = SpreadsheetApp.openById(SPREADSHEET_ID);
  const sheet = ss.getSheetByName(SHEET_NAME) || ss.insertSheet(SHEET_NAME);

  const data = (e && e.parameter) ? e.parameter : {};
  const headers = [
    'created_at','name','alias','dob','role','set','tags',
    'backstory','traits','limits','connections','goals','secret','wishes'
  ];

  if (sheet.getLastRow() === 0) sheet.appendRow(headers);

  const row = headers.map((h) => (data[h] != null ? data[h] : ''));
  sheet.appendRow(row);

  return ContentService
    .createTextOutput(JSON.stringify({ ok: true }))
    .setMimeType(ContentService.MimeType.JSON);
}
                </code></pre>
              </details>
            </div>

            <div class="sheetActions">
              <a class="btn btn--ghost" href="sheet_goals.html">‚Üê –ù–∞–∑–∞–¥</a>
              <button class="btn btn--ghost" type="button" id="generateBtn">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å 2 —Å—Ü–µ–Ω—ã</button>
              <button class="btn btn--primary" type="button" id="submitBtn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å ‚Üí</button>
            </div>

            <div class="sheetStatus note" id="submitStatus" style="margin-top:12px" hidden></div>

            <div id="generatedScenes" class="sceneGrid" style="margin-top:14px"></div>

            <div id="scenePlaceholder" class="scenePlaceholder" style="margin-top:14px">
              <div class="scenePlaceholder__title">–°—Ü–µ–Ω—ã –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å</div>
              <div class="small">–ù–∞–∂–º–∏ ¬´–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å 2 —Å—Ü–µ–Ω—ã¬ª ‚Äî –æ–Ω–∏ –±—É–¥—É—Ç –≥–æ—Ç–æ–≤—ã –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∏–≥—Ä—ã.</div>
            </div>

            <details class="libraryBox" id="libraryDetails" style="margin-top:14px">
              <summary><strong>–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ 100+ —Å—Ü–µ–Ω</strong> (—Ä–∞—Å–∫—Ä—ã—Ç—å)</summary>
              <div class="small" style="margin-top:10px">–≠—Ç–æ –∑–∞–≥–æ—Ç–æ–≤–∫–∏‚Äë–ø–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è —Å—é–∂–µ—Ç–∞: –ø–µ—Ä–µ–≥–æ–≤–æ—Ä—ã, —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è, —Å–µ–º–µ–π–Ω—ã–µ –ª–∏–Ω–∏–∏, –≥—Ä–∞–Ω–∏—Ü—ã, –¥–∞–≤–ª–µ–Ω–∏–µ –∏ —Ç.–¥.</div>
              <div id="sceneLibrary" class="sceneLibrary" style="margin-top:12px"></div>
            </details>
          </form>
        </div>
      </div>
    </section>

    <footer class="footer">
      <div class="wrap footer__inner">
        <div>Ballas ‚Ä¢ Character Sheet</div>
        <button class="btn btn--ghost" id="themeBtn2" type="button">–¢–µ–º–∞</button>
      </div>
    </footer>
  </main>

  <button class="btn btn--primary toTop" id="toTop" type="button" aria-label="–ù–∞–≤–µ—Ä—Ö">‚Üë –ù–∞–≤–µ—Ä—Ö</button>

  <div class="modal" id="modal" aria-hidden="true" role="dialog" aria-modal="true">
    <div class="modal__backdrop" data-close="1" tabindex="-1"></div>
    <div class="modal__panel" role="document">
      <div class="modal__head">
        <div>
          <div class="modal__title" id="modalTitle">‚Äî</div>
        </div>
        <button class="btn btn--ghost" data-close="1" type="button">–ó–∞–∫—Ä—ã—Ç—å</button>
      </div>
      <div class="modal__body" id="modalBody"></div>
      <div class="modal__foot">
        <span class="chip">RP</span>
        <span class="chip">Sheet</span>
        <span class="chip">2026</span>
      </div>
    </div>
  </div>

  <script src="./script.js"></script>
  <script src="./config.js"></script>
  <script src="./sheet_config.js"></script>
  <script src="./sheet_form.js"></script>
</body>
</html>
